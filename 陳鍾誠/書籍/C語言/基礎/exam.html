<!DOCTYPE html>
  <html>
  <head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.2/katex.min.css">
  <link rel="stylesheet" type="text/css" href="https://ccc-js.github.io/pp6/doc/main.css">
  <!-- 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/atom-one-light.min.css">
  <link rel="stylesheet" type="text/css" href="file:///D:/ccc/js/pp6/doc/main.css"> 
  -->
  </head>
  <body>
  <title></title>
  <header>
    <div style="float:left"><label class="toggle" onclick="toggleSidebar()">≡</label>&nbsp;&nbsp;</div>
    <div style="float:left"><p><a href="../../../../陳鍾誠.html" alt="">陳鍾誠</a> / <a href="../../../書籍.html" alt="">書籍</a> / <a href="../../C語言.html" alt="">C語言</a> / <a href="../基礎.html" alt="">基礎</a></p>
</div>
  </header>
  <aside>
  <div>
  <h6> <a href="./陳鍾誠/課程/.html" alt="">課程</a></h6>
<ul>
    <li><a href="./陳鍾誠/課程/網頁設計.html" alt="">網頁設計</a></li>
    <li><a href="./陳鍾誠/課程/網站設計.html" alt="">網站設計進階</a></li>
    <li><a href="./陳鍾誠/課程/計算機結構.html" alt="">計算機結構</a></li>
    <li><a href="./陳鍾誠/課程/系統程式.html" alt="">系統程式</a></li>
    <li><a href="./陳鍾誠/課程/人工智慧.html" alt="">人工智慧</a></li>
    <li><a href="./陳鍾誠/課程/軟體工程.html" alt="">軟體工程</a></li>
</ul>
<h6> <a href="./陳鍾誠/書籍/.html" alt="">書籍</a></h6>
<ul>
    <li><a href="./陳鍾誠/書籍/演算法.html" alt="">演算法</a></li>
    <li><a href="./陳鍾誠/書籍/科學計算.html" alt="">科學計算</a></li>
    <li><a href="./陳鍾誠/書籍/機率統計.html" alt="">機率統計</a></li>
    <li><a href="./陳鍾誠/書籍/資料庫.html" alt="">資料庫</a></li>
    <li><a href="./陳鍾誠/書籍/JavaScript.html" alt="">JavaScript</a></li>
    <li><a href="./陳鍾誠/書籍/nand2tetris.html" alt="">nand2tetris</a></li>
    <li><a href="./陳鍾誠/書籍/C語言.html" alt="">C語言</a></li>
    <li><a href="./陳鍾誠/書籍/Verilog.html" alt="">Verilog</a></li>
    <li><a href="./陳鍾誠/書籍/圖靈獎.html" alt="">圖靈獎年表</a></li>
</ul>
<h6> <a href="./Home.html" alt="">陳鍾誠</a></h6>
<ul>
    <li><a href="./陳鍾誠/程式.html" alt="">程式</a></li>
    <li><a href="./陳鍾誠/作品.html" alt="">作品</a></li>
    <li><a href="./陳鍾誠/蒐藏.html" alt="">蒐藏</a></li>
</ul>
  </div>
  </aside>
  <article>
  <div class="header">
    
    
    
  </div>
  <h2> 習題</h2>

<p>1 - 請寫一個程式計算 10! ，也就是 <code>10*9*8*....*1</code> 。</p>

<p>2 - 請寫一個程式印出九九乘法表。</p>

<p>3 - 請檢查某數是否為質數？ 範例： isPrime(17) => true</p>

<p>4 - 請在一個已經排序的陣列中之正確位置插入一個數值。(範例： insert([1,2,5,6,7], 3) => [1,2,3,5,6,7])</p>

<p>5 - 請算出某陣列的平均值？(範例： mean([1,2,3,4,5]) => 3)</p>

<p>6 - 請寫一個函數計算兩矩陣相加？(範例： add([[1,2],[3,4]], [[1,1],[1,1]]) => [[2,3], [4,5]])</p>

<p>7 - 寫一個程式把矩陣轉置。(範例：transpose([[1,2,3], [3,2,1]]) => [[1,3], [2,2], [3,1]])</p>

<p>8 - 請寫一個函數可以傳回陣列的映射值？(範例：map(sqrt, [1,4,9])= [1,2,3])</p>

<p>9 - 請用遞迴計算 n! = n<strong>…</strong>2*1 ？(範例： factorial(3) = 6)</p>

<p>10 - 以結構實作矩陣 Matrix</p>

<h2> 解答</h2>

<p>1 - 請寫一個程式計算 10! ，也就是 <code>10*9*8*....*1</code> 。</p>

<pre class="code"><code class="C">// 請寫一個程式計算 10! ，也就是 10*9*8*....*1 。
#include &lt;stdio.h&gt;

int main() {
  int p = 1;
  for (int i=10; i&gt;=1; i--) {
    p = p * i;
  }
  printf("10!=%d\n", p);
}

/*
D:\Dropbox\mdbookspace\web\code\c\exam&gt;gcc -std=c99 factorial.c -o factorial

D:\Dropbox\mdbookspace\web\code\c\exam&gt;factorial
10!=3628800
*/
</code></pre>

<p>2 - 請寫一個程式印出九九乘法表。</p>

<pre class="code"><code class="C">// 請寫一個程式印出九九乘法表。
#include &lt;stdio.h&gt;

int main() {
  for (int i=2; i&lt;=9; i++) {
    for (int j=2; j&lt;=9; j++) {
      printf("%d*%d=%d\n", i, j, i*j);
    }
  }
}

/*

D:\Dropbox\mdbookspace\web\code\c\exam&gt;gcc -std=c99 table99.c -o table99

D:\Dropbox\mdbookspace\web\code\c\exam&gt;table99
2*2=4
2*3=6
2*4=8
...
9*7=63
9*8=72
9*9=81
*/
</code></pre>

<p>3 - 請檢查某數是否為質數？ 範例： isPrime(17) => true</p>

<pre class="code"><code class="C">// 請檢查某數是否為質數？ 範例： isPrime(17) =&gt; true
#include &lt;stdio.h&gt;

int isPrime(int n) {
  for (int i=2; i&lt;n; i++) {
    if (n%i==0) 
      return 0;
  }
  return 1;
}

int main() {
  printf("isPrime(19)=%d\n", isPrime(19));
  printf("isPrime(21)=%d\n", isPrime(21));
}

/*
D:\Dropbox\mdbookspace\web\code\c\exam&gt;gcc -std=c99 isPrime.c -o isPrime

D:\Dropbox\mdbookspace\web\code\c\exam&gt;isPrime
isPrime(19)=1
isPrime(21)=0
*/
</code></pre>

<p>4 - 請在一個已經排序的陣列中之正確位置插入一個數值。(範例： insert([1,2,5,6,7], 3) => [1,2,3,5,6,7])</p>

<pre class="code"><code class="C">// 請在一個已經排序的陣列中之正確位置插入一個數值。(範例： insert([1,2,5,6,7], 3) =&gt; [1,2,3,5,6,7])
#include &lt;stdio.h&gt;

void array_insert(int a[], int *length, int item) {
  for (int i=0; i&lt;*length; i++) {
    if (a[i] &gt; item) { // 找到插入點
      // 把插入點之後的元素通通向後搬一格
      for (int ti=*length; ti&gt;i; ti--) {
        a[ti] = a[ti-1];
      }      
      a[i] = item; // 把新增元素放進插入點
      break;
    }
  }
  *length += 1; // 新增了一個，長度必須加一
}

void array_print(int a[], int length) {
  for (int i=0; i&lt;length; i++) {
    printf("%d ", a[i]);
  }
  printf("\n");
}

int main() {
  int a[10]={1,2,5,6,7}, len=5;
  array_print(a, len);
  array_insert(a, &amp;len, 3);
  array_print(a, len);
}

/*
D:\Dropbox\mdbookspace\web\code\c\exam&gt;gcc -std=c99 arrayInsert.c -o arrayInsert

D:\Dropbox\mdbookspace\web\code\c\exam&gt;arrayInsert
1 2 5 6 7
1 2 3 5 6 7
*/
</code></pre>

<p>5 - 請算出某陣列的平均值？(範例： mean([1,2,3,4,5]) => 3)</p>

<pre class="code"><code class="C">// 請算出某陣列的平均值？(範例： mean([1,2,3,4,5]) =&gt; 3)
#include &lt;stdio.h&gt;

double mean(double a[], int length) {
  double sum=0;
  for (int i=0; i&lt;length; i++) {
    sum += a[i];
  }
  return sum/length;
}

int main() {
  double a[] = {1,2,3,4,5};
  printf("mean({1,2,3,4,5})=%6.2f\n", mean(a, 5));
}

/*
D:\Dropbox\mdbookspace\web\code\c\exam&gt;gcc -std=c99 mean.c -o mean

D:\Dropbox\mdbookspace\web\code\c\exam&gt;mean
mean({1,2,3,4,5})=  3.00
*/
</code></pre>

<p>6 - 請寫一個函數計算兩矩陣相加？(範例： add([[1,2],[3,4]], [[1,1],[1,1]]) => [[2,3], [4,5]])</p>

<pre class="code"><code class="C">// 請寫一個函數計算兩矩陣相加？(範例： add([[1,2],[3,4]], [[1,1],[1,1]]) =&gt; [[2,3], [4,5]])
#include &lt;stdio.h&gt;

double matrix_add(double *a, double *b, double *c, int rows, int cols) {
  for (int i=0; i&lt;rows; i++) {
    for (int j=0; j&lt;cols; j++) {
      int cell = i*cols+j;
      c[cell] = a[cell] + b[cell];
    }
  }
}

int matrix_print(double *m, int rows, int cols) {
  for (int i=0; i&lt;rows; i++) {
    for (int j=0; j&lt;cols; j++) {
      int cell = i*cols+j;
      printf("%6.2f ", m[cell]);
    }
    printf("\n");
  }
}

int main() {
  double a[] = {1.,2.,3.,4.}, b[]={1.,1.,1.,1.}, c[4], rows=2, cols=2;
  printf("========= a ===========\n");
  matrix_print(a, rows, cols);
  printf("========= b ===========\n");
  matrix_print(b, rows, cols);
  
  matrix_add(a, b, c, rows, cols);
  
  printf("========= c ===========\n");
  matrix_print(c, rows, cols);
}

/*
D:\Dropbox\mdbookspace\web\code\c\exam&gt;gcc -std=c99 matrixAdd.c -o matrixAdd

D:\Dropbox\mdbookspace\web\code\c\exam&gt;matrixAdd
========= a ===========
  1.00   2.00
  3.00   4.00
========= b ===========
  1.00   1.00
  1.00   1.00
========= c ===========
  2.00   3.00
  4.00   5.00
*/
</code></pre>

<p>7 - 寫一個程式把矩陣轉置。(範例：transpose([[1,2,3], [3,2,1]]) => [[1,3], [2,2], [3,1]])</p>

<pre class="code"><code class="C">// 請寫一個程式把矩陣轉置。(範例：transpose([[1,2,3], [3,2,1]]) =&gt; [[1,3], [2,2], [3,1]])
#include &lt;stdio.h&gt;

void matrix_transpose(double *m, int rows, int cols, double *mt) {
  for (int i=0; i&lt;rows; i++) {
    for (int j=0; j&lt;cols; j++) {
      int cell = i*cols+j, tcell = j*rows + i;
      mt[tcell] = m[cell];
    }
  }
}

void matrix_print(double *m, int rows, int cols) {
  for (int i=0; i&lt;rows; i++) {
    for (int j=0; j&lt;cols; j++) {
      int cell = i*cols+j;
      printf("%6.2f ", m[cell]);
    }
    printf("\n");
  }
}

int main() {
  double a[] = {1.,2.,3.,4.,5.,6.}, b[6], rows=2, cols=3;
  printf("========= a ===========\n");
  matrix_print(a, rows, cols);

  matrix_transpose(a, rows, cols, b);

  printf("========= b ===========\n");
  matrix_print(b, cols, rows);
}

/*
bash-3.2$ gcc matrix_transpose.c -o matrix_transpose
bash-3.2$ ./matrix_transpose
========= a ===========
  1.00   2.00   3.00
  4.00   5.00   6.00
========= b ===========
  1.00   4.00
  2.00   5.00
  3.00   6.00
*/
</code></pre>

<p>8 - 請寫一個函數可以傳回陣列的映射值？(範例：map(sqrt, [1,4,9])= [1,2,3])</p>

<pre class="code"><code class="C">// 請寫一個函數可以傳回陣列的映射值？(範例：map(sqrt, [1,4,9])= [1,2,3])
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;

void array_print(double a[], int length) {
  for (int i=0; i&lt;length; i++) {
    printf("%6.2f ", a[i]);
  }
  printf("\n");
}

void map(double (*f)(double), double a[], int length, double fa[]) {
  for (int i=0; i&lt;length; i++) {
    fa[i] = f(a[i]);
  }
}

int main() {
  double a[]={1.,4.,9.}, fa[3];
  int len=3;
  printf("a=");
  array_print(a, len);
  map(sqrt, a, len, fa);
  printf("fa=");
  array_print(fa, len);
}

/*
D:\Dropbox\mdbookspace\web\code\c\exam&gt;gcc -std=c99 map.c -o map

D:\Dropbox\mdbookspace\web\code\c\exam&gt;map
a=  1.00   4.00   9.00
fa=  1.00   2.00   3.00
*/
</code></pre>

<p>9 - 請用遞迴計算 n! = n<strong>…</strong>2*1 ？(範例： factorial(3) = 6)</p>

<pre class="code"><code class="C">// 請用遞迴計算 n! = n*…*2*1 ？(範例： factorial(3) = 6)
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;

int factorial(int n) {
  if (n == 1) 
    return 1;
  return n*factorial(n-1);
}

int main() {
  printf("factorial(3)=%d\n", factorial(3));
}

/*
D:\Dropbox\mdbookspace\web\code\c\exam&gt;gcc -std=c99 rfactorial.c -o rfactorial

D:\Dropbox\mdbookspace\web\code\c\exam&gt;rfactorial
factorial(3)=6
*/
</code></pre>

<p>10 - 以結構實作矩陣 Matrix</p>

<pre class="code"><code class="C">// 以結構實作矩陣 Matrix (範例： add([[1,2],[3,4]], [[1,1],[1,1]]) =&gt; [[2,3], [4,5]])
#include &lt;stdio.h&gt;

typedef struct {
    double *m;
    int rows, cols;
} Matrix;

#define MATRIX_CELL(mat,i,j) (i*mat-&gt;cols+j)

void matrix_add(Matrix* a, Matrix* b, Matrix* c) {
  for (int i=0; i &lt; a-&gt;rows; i++) {
    for (int j=0; j &lt; a-&gt;cols; j++) {
      int cell = MATRIX_CELL(a, i, j);
      c-&gt;m[cell] = a-&gt;m[cell] + b-&gt;m[cell];
    }
  }  
}

void matrix_print(Matrix* m) {
  for (int i=0; i&lt;m-&gt;rows; i++) {
    for (int j=0; j&lt;m-&gt;cols; j++) {
      int cell = MATRIX_CELL(m, i, j);
      printf("%6.2f ", m-&gt;m[cell]);
    }
    printf("\n");
  }
}

int main() {
  double ma[] = {1,2,3,4}, mb[]={1,1,1,1}, mc[4];
  Matrix a = {.m=ma, .rows=2, .cols=2};
  Matrix b = {.m=mb, .rows=2, .cols=2};
  Matrix c = {.m=mc, .rows=2, .cols=2};

  printf("========= a ===========\n");
  matrix_print(&amp;a);
  printf("========= b ===========\n");
  matrix_print(&amp;b);

  matrix_add(&amp;a, &amp;b, &amp;c);

  printf("========= c ===========\n");
  matrix_print(&amp;c);
  return 0;
}

/*
bash-3.2$ gcc matrix.c -o matrix0
bash-3.2$ ./matrix0
========= a ===========
  1.00   2.00
  3.00   4.00
========= b ===========
  1.00   1.00
  1.00   1.00
========= c ===========
  2.00   3.00
  4.00   5.00
*/
</code></pre>

  <div class="reference">
  
  </div>
  </article>
  <footer><p><a href="http://www.nqu.edu.tw/educsie/index.php?act=blog&code=list&ids=4" alt="">陳鍾誠</a> 於 <a href="http://www.nqu.edu.tw/" alt="">金門大學</a> <a href="http://www.nqu.edu.tw/educsie/index.php" alt="">資訊工程系</a> -- 本書衍生自 <a href="https://www.wikipedia.org/" alt="">維基百科</a> ，採用 <a href="https://zh.wikipedia.org/zh-hant/Wikipedia%3ACC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" alt="">CC: BY-SA</a> 授權</p>
</footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.2/katex.min.js"></script>
  <script src="https://ccc-js.github.io/pp6/doc/main.js"></script>
  <!--
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
  <script src="file:///D:/ccc/js/pp6/doc/main.js"></script>
  -->
  </script>
  </body>
  </html>
  